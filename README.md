# **ğŸ¢ Oracle Cloud ARM æŠ¢æœºåŠ©æ‰‹ \- ä½¿ç”¨è¯´æ˜ä¹¦**

æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»äº†å¦‚ä½•å®‰è£…ä¾èµ–ã€è·å–é…ç½®å‚æ•°ã€ä»¥åŠå°†è„šæœ¬è®¾ç½®ä¸ºåå°è¿è¡Œå’Œå¼€æœºè‡ªå¯ã€‚

## **1\. ç¯å¢ƒå‡†å¤‡ä¸ä¾èµ–å®‰è£…**

ç¡®ä¿ä½ çš„æœåŠ¡å™¨æ˜¯ Ubuntu 20.04+ æˆ– Debian 10+ ç³»ç»Ÿã€‚

### **ç¬¬ä¸€æ­¥ï¼šæ›´æ–°ç³»ç»Ÿå¹¶å®‰è£… Python3 pip**

sudo apt update  
sudo apt install python3-pip \-y

### **ç¬¬äºŒæ­¥ï¼šå®‰è£…è„šæœ¬ä¾èµ–åº“**

æœ¬è„šæœ¬ä¾èµ– Flask (Webæ¡†æ¶)ã€OCI (ç”²éª¨æ–‡SDK) å’Œ Requestsã€‚

pip3 install flask oci requests

## **2\. å¦‚ä½•è·å–å‚æ•° (é…ç½®é¢æ¿)**

è„šæœ¬æä¾›äº† Web é¢æ¿ï¼Œä½ éœ€è¦å¡«å†™ä¸¤éƒ¨åˆ†ä¿¡æ¯ï¼š**API å‡­è¯** å’Œ **å®ä¾‹é…ç½®**ã€‚

### **A. è·å– API å‡­è¯ (OCI Credentials)**

è¿™æ˜¯è®©è„šæœ¬æœ‰æƒé™æ“ä½œä½ è´¦å·çš„å…³é”®ã€‚

1. ç™»å½• [Oracle Cloud æ§åˆ¶å°](https://cloud.oracle.com/)ã€‚  
2. ç‚¹å‡»å³ä¸Šè§’çš„äººåƒå›¾æ ‡ \-\> **My Profile (æˆ‘çš„é…ç½®æ–‡ä»¶)**ã€‚  
3. åœ¨å·¦ä¾§èœå•ç‚¹å‡» **API Keys** \-\> **Add API Key (æ·»åŠ  API å¯†é’¥)**ã€‚  
4. é€‰æ‹© **Generate API Key Pair**ï¼Œç‚¹å‡» **Download Private Key** (ä½ ä¼šä¸‹è½½åˆ°ä¸€ä¸ª .pem æ–‡ä»¶ï¼Œ**è¯·ä¿å­˜å¥½**)ã€‚  
5. ç‚¹å‡» Addï¼Œä¼šå¼¹å‡ºä¸€ä¸ªé…ç½®æ–‡ä»¶é¢„è§ˆçª—å£ã€‚  
6. **å¡«å…¥é¢æ¿çš„ä¿¡æ¯ï¼š**  
   * **User OCID**: å¤åˆ¶é¢„è§ˆçª—å£ä¸­çš„ user å€¼ã€‚  
   * **Tenancy OCID**: å¤åˆ¶é¢„è§ˆçª—å£ä¸­çš„ tenancy å€¼ã€‚  
   * **Fingerprint**: å¤åˆ¶é¢„è§ˆçª—å£ä¸­çš„ fingerprint å€¼ã€‚  
   * **Region**: å¤åˆ¶é¢„è§ˆçª—å£ä¸­çš„ region å€¼ (ä¾‹å¦‚ ap-tokyo-1)ã€‚  
   * **Private Key**: ç”¨è®°äº‹æœ¬æ‰“å¼€åˆšæ‰ä¸‹è½½çš„ .pem æ–‡ä»¶ï¼Œ**å¤åˆ¶é‡Œé¢çš„å…¨éƒ¨å†…å®¹**ï¼Œç²˜è´´åˆ°ç½‘é¡µé¢æ¿çš„è¾“å…¥æ¡†ä¸­ã€‚

### **B. è·å–å®ä¾‹é…ç½® (æ¨èä½¿ç”¨ main.tf è‡ªåŠ¨è§£æ)**

ä¸éœ€è¦æ‰‹åŠ¨æŸ¥æ‰¾ Subnet ID å’Œ Image IDï¼Œä½¿ç”¨è„šæœ¬çš„â€œä¸Šä¼  main.tfâ€åŠŸèƒ½æœ€å¿«ã€‚

1. åœ¨ Oracle Cloud åå°ï¼Œå‡è£…è¦å»åˆ›å»ºä¸€ä¸ªå®ä¾‹ã€‚  
2. **é…ç½®ä½ æƒ³è¦çš„æœºå™¨**ï¼š  
   * Shape é€‰æ‹© **VM.Standard.A1.Flex**ã€‚  
   * é…ç½®å¥½ CPU (4 OCPU) å’Œ å†…å­˜ (24 GB)ã€‚  
   * é€‰æ‹©å¥½ç³»ç»Ÿé•œåƒ (Ubuntu 22.04 æˆ– Oracle Linux)ã€‚  
   * ä¸Šä¼ ä½ çš„ SSH å…¬é’¥ã€‚  
3. **å…³é”®æ­¥éª¤**ï¼šä¸è¦ç‚¹å‡» Createï¼Œè€Œæ˜¯ç‚¹å‡»åº•éƒ¨çš„ **Save as Stack (å¦å­˜ä¸ºå †æ ˆ)**ã€‚  
4. ä¸‹è½½å †æ ˆé…ç½®ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ª Zip åŒ…ï¼‰ï¼Œè§£å‹åæ‰¾åˆ° main.tf æ–‡ä»¶ã€‚  
5. **å›åˆ°è„šæœ¬ Web é¢æ¿**ï¼š  
   * ç‚¹å‡» **"ä¸Šä¼  main.tf"** æŒ‰é’®ã€‚  
   * é€‰æ‹©è¯¥æ–‡ä»¶ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨å¡«å¥½æ‰€æœ‰å¯ç”¨åŒºã€å­ç½‘ã€é•œåƒIDç­‰å¤æ‚å‚æ•°ã€‚

## **3\. å¼€æ”¾ç«¯å£ä¸é˜²ç«å¢™ (æ— æ³•è®¿é—®çœ‹è¿™é‡Œ)**

è„šæœ¬é»˜è®¤è¿è¡Œåœ¨ 5000 ç«¯å£ã€‚ä½ å¿…é¡»åœ¨ä¸¤å¤„å¼€æ”¾é˜²ç«å¢™ã€‚

### **ç¬¬ä¸€å¤„ï¼šç”²éª¨æ–‡äº‘åå°å®‰å…¨ç»„ (Security List)**

1. è¿›å…¥äº‘æ§åˆ¶å° \-\> Networking (ç½‘ç»œ) \-\> Virtual Cloud Networks (è™šæ‹Ÿäº‘ç½‘ç»œ)ã€‚  
2. ç‚¹å‡»ä½ çš„ VCN \-\> ç‚¹å‡» **Public Subnet (å…¬å…±å­ç½‘)**ã€‚  
3. ç‚¹å‡» **Security Lists (å®‰å…¨åˆ—è¡¨)** \-\> Default Security Listã€‚  
4. æ·»åŠ  **Ingress Rule (å…¥ç«™è§„åˆ™)**ï¼š  
   * Source CIDR: 0.0.0.0/0  
   * Protocol: TCP  
   * Destination Port Range: 5000

### **ç¬¬äºŒå¤„ï¼šæœåŠ¡å™¨ç³»ç»Ÿé˜²ç«å¢™**

åœ¨ SSH ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¼€æ”¾ç«¯å£ï¼š

**å¦‚æœæ˜¯ Ubuntu (UFW):**

sudo ufw allow 5000/tcp  
sudo ufw reload

**å¦‚æœæ˜¯ Oracle Linux / CentOS (Firewalld):**

sudo firewall-cmd \--permanent \--add-port=5000/tcp  
sudo firewall-cmd \--reload

**å¦‚æœæ˜¯ iptables (é€šç”¨):**

sudo iptables \-I INPUT \-p tcp \--dport 5000 \-j ACCEPT

## **4\. åå°è¿è¡Œä¸å¼€æœºè‡ªå¯ (Systemd æ–¹å¼)**

ä¸ºäº†é˜²æ­¢ SSH æ–­å¼€åè„šæœ¬åœæ­¢ï¼Œå»ºè®®ä½¿ç”¨ Systemd å°†å…¶æ³¨å†Œä¸ºç³»ç»ŸæœåŠ¡ã€‚

### **ä¸€é”®åˆ›å»ºæœåŠ¡æ–‡ä»¶**

**è¯·ç›´æ¥å¤åˆ¶å¹¶è¿è¡Œä»¥ä¸‹æ•´æ®µå‘½ä»¤**ï¼Œè¿™ä¼šè‡ªåŠ¨åˆ›å»ºæ­£ç¡®çš„æœåŠ¡æ–‡ä»¶ï¼ˆé¿å…æ‰‹åŠ¨ç¼–è¾‘æ—¶çš„æ ¼å¼é”™è¯¯ï¼‰ï¼š

sudo bash \-c 'cat \> /etc/systemd/system/oracle-sniper.service \<\<EOF  
\[Unit\]  
Description=Oracle Cloud Sniper Web Panel  
After=network.target

\[Service\]  
\# è¿è¡Œç”¨æˆ·ï¼Œé€šå¸¸æ˜¯ root  
User=root  
\# è„šæœ¬æ‰€åœ¨çš„æ–‡ä»¶å¤¹è·¯å¾„  
WorkingDirectory=/root  
\# python3 çš„è·¯å¾„ å’Œ è„šæœ¬çš„å…¨è·¯å¾„  
ExecStart=/usr/bin/python3 /root/oracle\_sniper\_web.py  
\# å´©æºƒåè‡ªåŠ¨é‡å¯  
Restart=always  
\# è¾“å‡ºæ—¥å¿—åˆ°ç³»ç»Ÿæ—¥å¿—  
StandardOutput=syslog  
StandardError=syslog

\[Install\]  
WantedBy=multi-user.target  
EOF'

### **å¯åŠ¨æœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯**

è¿è¡Œå®Œä¸Šé¢çš„å‘½ä»¤åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å¯åŠ¨ï¼š

\# é‡è½½ç³»ç»ŸæœåŠ¡é…ç½®  
sudo systemctl daemon-reload

\# å¯åŠ¨é¢æ¿  
sudo systemctl start oracle-sniper

\# è®¾ç½®å¼€æœºè‡ªå¯  
sudo systemctl enable oracle-sniper

### **ç®¡ç†å‘½ä»¤**

* **æŸ¥çœ‹è¿è¡ŒçŠ¶æ€**: sudo systemctl status oracle-sniper  
* **åœæ­¢æœåŠ¡**: sudo systemctl stop oracle-sniper  
* **é‡å¯æœåŠ¡**: sudo systemctl restart oracle-sniper

## **5\. è®¿é—®é¢æ¿**

å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œå³å¯é€šè¿‡æµè§ˆå™¨è®¿é—®ï¼š

* **åœ°å€**: http://\<ä½ çš„æœåŠ¡å™¨å…¬ç½‘IP\>:5000  
* **é»˜è®¤å¯†ç **: admin (è¯·åœ¨è„šæœ¬å¼€å¤´çš„ WEB\_PASSWORD å˜é‡å¤„ä¿®æ”¹)

ç¥ä½ å¥½è¿ï¼ğŸ¯
